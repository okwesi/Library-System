{% extends 'base.html' %}
{% load static %}

{% block content %}
{% if messages %}
<ul class="messages" id="alert">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}
<div class="col d-flex flex-column h-sm-100">
    <main class="row overflow-auto">
  
      {% for message in messages %}
      <div class="alert alert-{{ message.tags }} mb-0 alert-dismissible fade show" role="alert" id="message">
        <strong>Message: </strong> {{ message }}
      </div>
      {% endfor %}
  <div class="row">  
    <form class="d-flex mt-4 mb-4 col-5" method=" get">
      <input name="search" value="{{request.GET.search}}" class="form-control  me-2" type="search" placeholder="Search"
        aria-label="Search">
      <button class="btn btn-light border border-success" text-primary" type="submit">Search</button>
  
    </form>
  </div>
  
    
      {% for book in books %}
      <!-- {{books}} <br> -->
      {{book.title}}
      <a href="{% url 'book-detail' book.id %}">--detail</a>
             <br>
      {% endfor %}
  
    </main>
  
    <footer class="bg-light py-4 mt-auto text-center">
      <nav aria-label="Page navigation example" >
        {% if is_paginated %}
        <ul class="pagination">
          {% if page_obj.has_previous %}
          <li class="page-item">
            <a class="page-link" href="?page={{page_obj.previous_page_number}}">&laquo; Previous</a>
          </li>
          {% else %}
          <li class="page-item disabled">
            <a class="page-link" href="#">&laquo; Previous</a>
          </li>
          {% endif %}
          {% for i in paginator.page_range %}
          {% if page_obj.number == i %}
          <li class="page-item active" aria-current="page">
            <span class="page-link"><a >{{ i }}</a></span>
          </li>
          <!-- <li class="page-item"><a class="page-link active">{{ i }}</a></li> -->
          {% else %}
          <li class="page-item">
            <a class="page-link" href="?page={{ i }}">{{ i }}</a>
          </li>
          {% endif %}
          {% endfor %}
          {% if page_obj.has_next %}
          <li class="page-item">
            <a href="?page={{page_obj.next_page_number}}" class="page-link">Next &raquo;</a>
          </li>
          {% else %}
          <li class="page-item disabled">
            <a class="page-link">Next &raquo;</a>
          </li>
          {% endif %}
        </ul>
        {% endif %}
      </nav>
    </footer>
  </div>
  


{% endblock content %}
